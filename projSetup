# This script makes directories and initializes the git repos for running a project on the cluster
# the name of the project is given by the first argument

git init $1
cd $1
git config receive.denyCurrentBranch ignore

echo 'git checkout master' > .git/hooks/post-receive
chmod +x .git/hooks/post-receive

# old files 

#cat <<'EOF' >$1/.git/hooks/post-receive
#git checkout master^0
#EOF
#chmod +x $1/.git/hooks/post-receive
#
## make directories
#git init $1
#git init --bare sourceRepos/$1'.git'
#
#cat <<EOF >sourceRepos/$1.git/hooks/post-receive
#cd ../$1
#git pull origin master
#EOF
#chmod +x $1/.git/hooks/post-receive
#
#
## add the origin branch to the running ('working') repository
#cd $1
#git remote add origin ../sourceRepos/$1'.git'
#
#cd ..
#
